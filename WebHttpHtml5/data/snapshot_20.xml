<?xml version="1.0" encoding="utf-8"?>
<HTTPSnapshot xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" id="20">
  <HTTPTask id="710" hostname="demowebshop.tricentis.com" path="/Plugins/Widgets.NivoSlider/Scripts/jquery.nivo.slider.js" url="https://demowebshop.tricentis.com/Plugins/Widgets.NivoSlider/Scripts/jquery.nivo.slider.js" ip="52.174.3.80" port="443" connectionId="10" origin="Primary" frame="1" startDateTime="2024-01-02T12:00:43.861+05:30" startTime="228893328" endTime="228893562">
    <HTTPRequest method="GET">
      <HTTPHeaders>
        <HTTPHeaderEntity name="Host" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>ZGVtb3dlYnNob3AudHJpY2VudGlzLmNvbQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Connection" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>a2VlcC1hbGl2ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="sec-ch-ua" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ik5vdF9BIEJyYW5kIjt2PSI4IiwgIkNocm9taXVtIjt2PSIxMjAiLCAiR29vZ2xlIENocm9tZSI7dj0iMTIwIg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="sec-ch-ua-mobile" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>PzA=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="User-Agent" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzEyMC4wLjAuMCBTYWZhcmkvNTM3LjM2</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="sec-ch-ua-platform" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>IldpbmRvd3Mi</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ki8q</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Sec-Fetch-Site" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>c2FtZS1vcmlnaW4=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Sec-Fetch-Mode" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bm8tY29ycw==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Sec-Fetch-Dest" index="9">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>c2NyaXB0</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Referer" index="10">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aHR0cHM6Ly9kZW1vd2Vic2hvcC50cmljZW50aXMuY29tLw==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Encoding" index="11">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcCwgZGVmbGF0ZSwgYnI=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Language" index="12">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>ZW4tVVMsZW47cT0wLjk=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cookie" index="13">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Tm9wLmN1c3RvbWVyPTZhYWIyZjNmLTQxZDUtNDk0NC05MWI0LWQ2ZGU3MjRlNTQwNDsgQVJSQWZmaW5pdHk9MDk0ODhhMjIwNTQyYTYxZjE5Zjg5NGUwNzMzYjViNzI0Y2IwYzViOTNjNTI5YjM5YTFjMzljMmRjMWNjZWE1NDsgQVJSQWZmaW5pdHlTYW1lU2l0ZT0wOTQ4OGEyMjA1NDJhNjFmMTlmODk0ZTA3MzNiNWI3MjRjYjBjNWI5M2M1MjliMzlhMWMzOWMyZGMxY2NlYTU0</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>R0VUIC9QbHVnaW5zL1dpZGdldHMuTml2b1NsaWRlci9TY3JpcHRzL2pxdWVyeS5uaXZvLnNsaWRlci5qcyBIVFRQLzEuMQ0KSG9zdDogZGVtb3dlYnNob3AudHJpY2VudGlzLmNvbQ0KQ29ubmVjdGlvbjoga2VlcC1hbGl2ZQ0Kc2VjLWNoLXVhOiAiTm90X0EgQnJhbmQiO3Y9IjgiLCAiQ2hyb21pdW0iO3Y9IjEyMCIsICJHb29nbGUgQ2hyb21lIjt2PSIxMjAiDQpzZWMtY2gtdWEtbW9iaWxlOiA/MA0KVXNlci1BZ2VudDogTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzEyMC4wLjAuMCBTYWZhcmkvNTM3LjM2DQpzZWMtY2gtdWEtcGxhdGZvcm06ICJXaW5kb3dzIg0KQWNjZXB0OiAqLyoNClNlYy1GZXRjaC1TaXRlOiBzYW1lLW9yaWdpbg0KU2VjLUZldGNoLU1vZGU6IG5vLWNvcnMNClNlYy1GZXRjaC1EZXN0OiBzY3JpcHQNClJlZmVyZXI6IGh0dHBzOi8vZGVtb3dlYnNob3AudHJpY2VudGlzLmNvbS8NCkFjY2VwdC1FbmNvZGluZzogZ3ppcCwgZGVmbGF0ZSwgYnINCkFjY2VwdC1MYW5ndWFnZTogZW4tVVMsZW47cT0wLjkNCkNvb2tpZTogTm9wLmN1c3RvbWVyPTZhYWIyZjNmLTQxZDUtNDk0NC05MWI0LWQ2ZGU3MjRlNTQwNDsgQVJSQWZmaW5pdHk9MDk0ODhhMjIwNTQyYTYxZjE5Zjg5NGUwNzMzYjViNzI0Y2IwYzViOTNjNTI5YjM5YTFjMzljMmRjMWNjZWE1NDsgQVJSQWZmaW5pdHlTYW1lU2l0ZT0wOTQ4OGEyMjA1NDJhNjFmMTlmODk0ZTA3MzNiNWI3MjRjYjBjNWI5M2M1MjliMzlhMWMzOWMyZGMxY2NlYTU0DQoNCg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
        <HTTPCookies>
          <HTTPHeaderEntity name="Nop.customer" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>NmFhYjJmM2YtNDFkNS00OTQ0LTkxYjQtZDZkZTcyNGU1NDA0</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="ARRAffinity" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MDk0ODhhMjIwNTQyYTYxZjE5Zjg5NGUwNzMzYjViNzI0Y2IwYzViOTNjNTI5YjM5YTFjMzljMmRjMWNjZWE1NA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="ARRAffinitySameSite" index="2">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MDk0ODhhMjIwNTQyYTYxZjE5Zjg5NGUwNzMzYjViNzI0Y2IwYzViOTNjNTI5YjM5YTFjMzljMmRjMWNjZWE1NA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
        </HTTPCookies>
      </HTTPHeaders>
    </HTTPRequest>
    <HTTPResponse>
      <contentLenght>4784</contentLenght>
      <HTTPHeaders>
        <HTTPHeaderEntity name="Content-Length" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>NDc4NA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Type" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>YXBwbGljYXRpb24veC1qYXZhc2NyaXB0</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Date" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VHVlLCAwMiBKYW4gMjAyNCAwNjozMDoyNSBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Server" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TWljcm9zb2Z0LUlJUy8xMC4w</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Ranges" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ynl0ZXM=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cache-Control" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bWF4LWFnZT0yMDczNjAw</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Encoding" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="ETag" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>IjA4MzE3N2JhYTJkMjE6MCI=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Last-Modified" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VHVlLCAzMCBBdWcgMjAxNiAxMDozNzoxOCBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Vary" index="9">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>QWNjZXB0LUVuY29kaW5n</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="X-Powered-By" index="10">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>QVNQLk5FVA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogNDc4NA0KQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi94LWphdmFzY3JpcHQNCkRhdGU6IFR1ZSwgMDIgSmFuIDIwMjQgMDY6MzA6MjUgR01UDQpTZXJ2ZXI6IE1pY3Jvc29mdC1JSVMvMTAuMA0KQWNjZXB0LVJhbmdlczogYnl0ZXMNCkNhY2hlLUNvbnRyb2w6IG1heC1hZ2U9MjA3MzYwMA0KQ29udGVudC1FbmNvZGluZzogZ3ppcA0KRVRhZzogIjA4MzE3N2JhYTJkMjE6MCINCkxhc3QtTW9kaWZpZWQ6IFR1ZSwgMzAgQXVnIDIwMTYgMTA6Mzc6MTggR01UDQpWYXJ5OiBBY2NlcHQtRW5jb2RpbmcNClgtUG93ZXJlZC1CeTogQVNQLk5FVA0KDQo=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
      <HTTPBody>
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>LyoNCiAqIGpRdWVyeSBOaXZvIFNsaWRlciB2My4yDQogKiBodHRwOi8vbml2by5kZXY3c3R1ZGlvcy5jb20NCiAqDQogKiBDb3B5cmlnaHQgMjAxMiwgRGV2N3N0dWRpb3MNCiAqIEZyZWUgdG8gdXNlIGFuZCBhYnVzZSB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuDQogKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocA0KICovDQoNCihmdW5jdGlvbiAoJCkgew0KICAgIHZhciBOaXZvU2xpZGVyID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9wdGlvbnMpIHsNCiAgICAgICAgLy8gRGVmYXVsdHMgYXJlIGJlbG93DQogICAgICAgIHZhciBzZXR0aW5ncyA9ICQuZXh0ZW5kKHt9LCAkLmZuLm5pdm9TbGlkZXIuZGVmYXVsdHMsIG9wdGlvbnMpOw0KDQogICAgICAgIC8vIFVzZWZ1bCB2YXJpYWJsZXMuIFBsYXkgY2FyZWZ1bGx5Lg0KICAgICAgICB2YXIgdmFycyA9IHsNCiAgICAgICAgICAgIGN1cnJlbnRTbGlkZTogMCwNCiAgICAgICAgICAgIGN1cnJlbnRJbWFnZTogJycsDQogICAgICAgICAgICB0b3RhbFNsaWRlczogMCwNCiAgICAgICAgICAgIHJ1bm5pbmc6IGZhbHNlLA0KICAgICAgICAgICAgcGF1c2VkOiBmYWxzZSwNCiAgICAgICAgICAgIHN0b3A6IGZhbHNlLA0KICAgICAgICAgICAgY29udHJvbE5hdkVsOiBmYWxzZQ0KICAgICAgICB9Ow0KDQogICAgICAgIC8vIEdldCB0aGlzIHNsaWRlcg0KICAgICAgICB2YXIgc2xpZGVyID0gJChlbGVtZW50KTsNCiAgICAgICAgc2xpZGVyLmRhdGEoJ25pdm86dmFycycsIHZhcnMpLmFkZENsYXNzKCduaXZvU2xpZGVyJyk7DQoNCiAgICAgICAgLy8gRmluZCBvdXIgc2xpZGVyIGNoaWxkcmVuDQogICAgICAgIHZhciBraWRzID0gc2xpZGVyLmNoaWxkcmVuKCk7DQogICAgICAgIGtpZHMuZWFjaChmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICB2YXIgY2hpbGQgPSAkKHRoaXMpOw0KICAgICAgICAgICAgdmFyIGxpbmsgPSAnJzsNCiAgICAgICAgICAgIGlmICghY2hpbGQuaXMoJ2ltZycpKSB7DQogICAgICAgICAgICAgICAgaWYgKGNoaWxkLmlzKCdhJykpIHsNCiAgICAgICAgICAgICAgICAgICAgY2hpbGQuYWRkQ2xhc3MoJ25pdm8taW1hZ2VMaW5rJyk7DQogICAgICAgICAgICAgICAgICAgIGxpbmsgPSBjaGlsZDsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgY2hpbGQgPSBjaGlsZC5maW5kKCdpbWc6Zmlyc3QnKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIC8vIEdldCBpbWcgd2lkdGggJiBoZWlnaHQNCiAgICAgICAgICAgIHZhciBjaGlsZFdpZHRoID0gKGNoaWxkV2lkdGggPT09IDApID8gY2hpbGQuYXR0cignd2lkdGgnKSA6IGNoaWxkLndpZHRoKCksDQogICAgICAgICAgICAgICAgY2hpbGRIZWlnaHQgPSAoY2hpbGRIZWlnaHQgPT09IDApID8gY2hpbGQuYXR0cignaGVpZ2h0JykgOiBjaGlsZC5oZWlnaHQoKTsNCg0KICAgICAgICAgICAgaWYgKGxpbmsgIT09ICcnKSB7DQogICAgICAgICAgICAgICAgbGluay5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgY2hpbGQuY3NzKCdkaXNwbGF5JywgJ25vbmUnKTsNCiAgICAgICAgICAgIHZhcnMudG90YWxTbGlkZXMrKzsNCiAgICAgICAgfSk7DQoNCiAgICAgICAgLy8gSWYgcmFuZG9tU3RhcnQNCiAgICAgICAgaWYgKHNldHRpbmdzLnJhbmRvbVN0YXJ0KSB7DQogICAgICAgICAgICBzZXR0aW5ncy5zdGFydFNsaWRlID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogdmFycy50b3RhbFNsaWRlcyk7DQogICAgICAgIH0NCg0KICAgICAgICAvLyBTZXQgc3RhcnRTbGlkZQ0KICAgICAgICBpZiAoc2V0dGluZ3Muc3RhcnRTbGlkZSA+IDApIHsNCiAgICAgICAgICAgIGlmIChzZXR0aW5ncy5zdGFydFNsaWRlID49IHZhcnMudG90YWxTbGlkZXMpIHsgc2V0dGluZ3Muc3RhcnRTbGlkZSA9IHZhcnMudG90YWxTbGlkZXMgLSAxOyB9DQogICAgICAgICAgICB2YXJzLmN1cnJlbnRTbGlkZSA9IHNldHRpbmdzLnN0YXJ0U2xpZGU7DQogICAgICAgIH0NCg0KICAgICAgICAvLyBHZXQgaW5pdGlhbCBpbWFnZQ0KICAgICAgICBpZiAoJChraWRzW3ZhcnMuY3VycmVudFNsaWRlXSkuaXMoJ2ltZycpKSB7DQogICAgICAgICAgICB2YXJzLmN1cnJlbnRJbWFnZSA9ICQoa2lkc1t2YXJzLmN1cnJlbnRTbGlkZV0pOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgdmFycy5jdXJyZW50SW1hZ2UgPSAkKGtpZHNbdmFycy5jdXJyZW50U2xpZGVdKS5maW5kKCdpbWc6Zmlyc3QnKTsNCiAgICAgICAgfQ0KDQogICAgICAgIC8vIFNob3cgaW5pdGlhbCBsaW5rDQogICAgICAgIGlmICgkKGtpZHNbdmFycy5jdXJyZW50U2xpZGVdKS5pcygnYScpKSB7DQogICAgICAgICAgICAkKGtpZHNbdmFycy5jdXJyZW50U2xpZGVdKS5jc3MoJ2Rpc3BsYXknLCAnYmxvY2snKTsNCiAgICAgICAgfQ0KDQogICAgICAgIC8vIFNldCBmaXJzdCBiYWNrZ3JvdW5kDQogICAgICAgIHZhciBzbGlkZXJJbWcgPSAkKCc8aW1nLz4nKS5hZGRDbGFzcygnbml2by1tYWluLWltYWdlJyk7DQogICAgICAgIHNsaWRlckltZy5hdHRyKCdzcmMnLCB2YXJzLmN1cnJlbnRJbWFnZS5hdHRyKCdzcmMnKSkuc2hvdygpOw0KICAgICAgICBzbGlkZXIuYXBwZW5kKHNsaWRlckltZyk7DQoNCiAgICAgICAgLy8gRGV0ZWN0IFdpbmRvdyBSZXNpemUNCiAgICAgICAgJCh3aW5kb3cpLnJlc2l6ZShmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICBzbGlkZXIuY2hpbGRyZW4oJ2ltZycpLndpZHRoKHNsaWRlci53aWR0aCgpKTsNCiAgICAgICAgICAgIHNsaWRlckltZy5hdHRyKCdzcmMnLCB2YXJzLmN1cnJlbnRJbWFnZS5hdHRyKCdzcmMnKSk7DQogICAgICAgICAgICBzbGlkZXJJbWcuc3RvcCgpLmhlaWdodCgnYXV0bycpOw0KICAgICAgICAgICAgJCgnLm5pdm8tc2xpY2UnKS5yZW1vdmUoKTsNCiAgICAgICAgICAgICQoJy5uaXZvLWJveCcpLnJlbW92ZSgpOw0KICAgICAgICB9KTsNCg0KICAgICAgICAvL0NyZWF0ZSBjYXB0aW9uDQogICAgICAgIHNsaWRlci5hcHBlbmQoJCgnPGRpdiBjbGFzcz0ibml2by1jYXB0aW9uIj48L2Rpdj4nKSk7DQoNCiAgICAgICAgLy8gUHJvY2VzcyBjYXB0aW9uIGZ1bmN0aW9uDQogICAgICAgIHZhciBwcm9jZXNzQ2FwdGlvbiA9IGZ1bmN0aW9uIChzZXR0aW5ncykgew0KICAgICAgICAgICAgdmFyIG5pdm9DYXB0aW9uID0gJCgnLm5pdm8tY2FwdGlvbicsIHNsaWRlcik7DQogICAgICAgICAgICBpZiAodmFycy5jdXJyZW50SW1hZ2UuYXR0cigndGl0bGUnKSAhPSAnJyAmJiB2YXJzLmN1cnJlbnRJbWFnZS5hdHRyKCd0aXRsZScpICE9IHVuZGVmaW5lZCkgew0KICAgICAgICAgICAgICAgIHZhciB0aXRsZSA9IHZhcnMuY3VycmVudEltYWdlLmF0dHIoJ3RpdGxlJyk7DQogICAgICAgICAgICAgICAgaWYgKHRpdGxlLnN1YnN0cigwLCAxKSA9PSAnIycpIHRpdGxlID0gJCh0aXRsZSkuaHRtbCgpOw0KDQogICAgICAgICAgICAgICAgaWYgKG5pdm9DYXB0aW9uLmNzcygnZGlzcGxheScpID09ICdibG9jaycpIHsNCiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBuaXZvQ2FwdGlvbi5odG1sKHRpdGxlKTsNCiAgICAgICAgICAgICAgICAgICAgfSwgc2V0dGluZ3MuYW5pbVNwZWVkKTsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBuaXZvQ2FwdGlvbi5odG1sKHRpdGxlKTsNCiAgICAgICAgICAgICAgICAgICAgbml2b0NhcHRpb24uc3RvcCgpLmZhZGVJbihzZXR0aW5ncy5hbmltU3BlZWQpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgbml2b0NhcHRpb24uc3RvcCgpLmZhZGVPdXQoc2V0dGluZ3MuYW5pbVNwZWVkKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIC8vUHJvY2VzcyBpbml0aWFsICBjYXB0aW9uDQogICAgICAgIHByb2Nlc3NDYXB0aW9uKHNldHRpbmdzKTsNCg0KICAgICAgICAvLyBJbiB0aGUgd29yZHMgb2YgU3VwZXIgTWFyaW8gImxldCdzIGEgZ28hIg0KICAgICAgICB2YXIgdGltZXIgPSAwOw0KICAgICAgICBpZiAoIXNldHRpbmdzLm1hbnVhbEFkdmFuY2UgJiYga2lkcy5sZW5ndGggPiAxKSB7DQogICAgICAgICAgICB0aW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsgbml2b1J1bihzbGlkZXIsIGtpZHMsIHNldHRpbmdzLCBmYWxzZSk7IH0sIHNldHRpbmdzLnBhdXNlVGltZSk7DQogICAgICAgIH0NCg0KICAgICAgICAvLyBBZGQgRGlyZWN0aW9uIG5hdg0KICAgICAgICBpZiAoc2V0dGluZ3MuZGlyZWN0aW9uTmF2KSB7DQogICAgICAgICAgICBzbGlkZXIuYXBwZW5kKCc8ZGl2IGNsYXNzPSJuaXZvLWRpcmVjdGlvbk5hdiI+PGEgY2xhc3M9Im5pdm8tcHJldk5hdiI+JyArIHNldHRpbmdzLnByZXZUZXh0ICsgJzwvYT48YSBjbGFzcz0ibml2by1uZXh0TmF2Ij4nICsgc2V0dGluZ3MubmV4dFRleHQgKyAnPC9hPjwvZGl2PicpOw0KDQogICAgICAgICAgICAkKHNsaWRlcikub24oJ2NsaWNrJywgJ2Eubml2by1wcmV2TmF2JywgZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgIGlmICh2YXJzLnJ1bm5pbmcpIHsgcmV0dXJuIGZhbHNlOyB9DQogICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcik7DQogICAgICAgICAgICAgICAgdGltZXIgPSAnJzsNCiAgICAgICAgICAgICAgICB2YXJzLmN1cnJlbnRTbGlkZSAtPSAyOw0KICAgICAgICAgICAgICAgIG5pdm9SdW4oc2xpZGVyLCBraWRzLCBzZXR0aW5ncywgJ3ByZXYnKTsNCiAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICAkKHNsaWRlcikub24oJ2NsaWNrJywgJ2Eubml2by1uZXh0TmF2JywgZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgIGlmICh2YXJzLnJ1bm5pbmcpIHsgcmV0dXJuIGZhbHNlOyB9DQogICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcik7DQogICAgICAgICAgICAgICAgdGltZXIgPSAnJzsNCiAgICAgICAgICAgICAgICBuaXZvUnVuKHNsaWRlciwga2lkcywgc2V0dGluZ3MsICduZXh0Jyk7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfQ0KDQogICAgICAgIC8vIEFkZCBDb250cm9sIG5hdg0KICAgICAgICBpZiAoc2V0dGluZ3MuY29udHJvbE5hdikgew0KICAgICAgICAgICAgdmFycy5jb250cm9sTmF2RWwgPSAkKCc8ZGl2IGNsYXNzPSJuaXZvLWNvbnRyb2xOYXYiPjwvZGl2PicpOw0KICAgICAgICAgICAgc2xpZGVyLmFmdGVyKHZhcnMuY29udHJvbE5hdkVsKTsNCiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2lkcy5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgICAgIGlmIChzZXR0aW5ncy5jb250cm9sTmF2VGh1bWJzKSB7DQogICAgICAgICAgICAgICAgICAgIHZhcnMuY29udHJvbE5hdkVsLmFkZENsYXNzKCduaXZvLXRodW1icy1lbmFibGVkJyk7DQogICAgICAgICAgICAgICAgICAgIHZhciBjaGlsZCA9IGtpZHMuZXEoaSk7DQogICAgICAgICAgICAgICAgICAgIGlmICghY2hpbGQuaXMoJ2ltZycpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBjaGlsZCA9IGNoaWxkLmZpbmQoJ2ltZzpmaXJzdCcpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZC5hdHRyKCdkYXRhLXRodW1iJykpIHZhcnMuY29udHJvbE5hdkVsLmFwcGVuZCgnPGEgY2xhc3M9Im5pdm8tY29udHJvbCIgcmVsPSInICsgaSArICciPjxpbWcgc3JjPSInICsgY2hpbGQuYXR0cignZGF0YS10aHVtYicpICsgJyIgYWx0PSIiIC8+PC9hPicpOw0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIHZhcnMuY29udHJvbE5hdkVsLmFwcGVuZCgnPGEgY2xhc3M9Im5pdm8tY29udHJvbCIgcmVsPSInICsgaSArICciPicgKyAoaSArIDEpICsgJzwvYT4nKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC8vU2V0IGluaXRpYWwgYWN0aXZlIGxpbmsNCiAgICAgICAgICAgICQoJ2E6ZXEoJyArIHZhcnMuY3VycmVudFNsaWRlICsgJyknLCB2YXJzLmNvbnRyb2xOYXZFbCkuYWRkQ2xhc3MoJ2FjdGl2ZScpOw0KDQogICAgICAgICAgICAkKCdhJywgdmFycy5jb250cm9sTmF2RWwpLmJpbmQoJ2NsaWNrJywgZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgIGlmICh2YXJzLnJ1bm5pbmcpIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgICAgICBpZiAoJCh0aGlzKS5oYXNDbGFzcygnYWN0aXZlJykpIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVyKTsNCiAgICAgICAgICAgICAgICB0aW1lciA9ICcnOw0KICAgICAgICAgICAgICAgIHNsaWRlckltZy5hdHRyKCdzcmMnLCB2YXJzLmN1cnJlbnRJbWFnZS5hdHRyKCdzcmMnKSk7DQogICAgICAgICAgICAgICAgdmFycy5jdXJyZW50U2xpZGUgPSAkKHRoaXMpLmF0dHIoJ3JlbCcpIC0gMTsNCiAgICAgICAgICAgICAgICBuaXZvUnVuKHNsaWRlciwga2lkcywgc2V0dGluZ3MsICdjb250cm9sJyk7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfQ0KDQogICAgICAgIC8vRm9yIHBhdXNlT25Ib3ZlciBzZXR0aW5nDQogICAgICAgIGlmIChzZXR0aW5ncy5wYXVzZU9uSG92ZXIpIHsNCiAgICAgICAgICAgIHNsaWRlci5ob3ZlcihmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgdmFycy5wYXVzZWQgPSB0cnVlOw0KICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXIpOw0KICAgICAgICAgICAgICAgIHRpbWVyID0gJyc7DQogICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgdmFycy5wYXVzZWQgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICAvLyBSZXN0YXJ0IHRoZSB0aW1lcg0KICAgICAgICAgICAgICAgIGlmICh0aW1lciA9PT0gJycgJiYgIXNldHRpbmdzLm1hbnVhbEFkdmFuY2UpIHsNCiAgICAgICAgICAgICAgICAgICAgdGltZXIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7IG5pdm9SdW4oc2xpZGVyLCBraWRzLCBzZXR0aW5ncywgZmFsc2UpOyB9LCBzZXR0aW5ncy5wYXVzZVRpbWUpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9DQoNCiAgICAgICAgLy8gRXZlbnQgd2hlbiBBbmltYXRpb24gZmluaXNoZXMNCiAgICAgICAgc2xpZGVyLmJpbmQoJ25pdm86YW5pbUZpbmlzaGVkJywgZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgc2xpZGVySW1nLmF0dHIoJ3NyYycsIHZhcnMuY3VycmVudEltYWdlLmF0dHIoJ3NyYycpKTsNCiAgICAgICAgICAgIHZhcnMucnVubmluZyA9IGZhbHNlOw0KICAgICAgICAgICAgLy8gSGlkZSBjaGlsZCBsaW5rcw0KICAgICAgICAgICAgJChraWRzKS5lYWNoKGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICBpZiAoJCh0aGlzKS5pcygnYScpKSB7DQogICAgICAgICAgICAgICAgICAgICQodGhpcykuY3NzKCdkaXNwbGF5JywgJ25vbmUnKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIC8vIFNob3cgY3VycmVudCBsaW5rDQogICAgICAgICAgICBpZiAoJChraWRzW3ZhcnMuY3VycmVudFNsaWRlXSkuaXMoJ2EnKSkgew0KICAgICAgICAgICAgICAgICQoa2lkc1t2YXJzLmN1cnJlbnRTbGlkZV0pLmNzcygnZGlzcGxheScsICdibG9jaycpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgLy8gUmVzdGFydCB0aGUgdGltZXINCiAgICAgICAgICAgIGlmICh0aW1lciA9PT0gJycgJiYgIXZhcnMucGF1c2VkICYmICFzZXR0aW5ncy5tYW51YWxBZHZhbmNlKSB7DQogICAgICAgICAgICAgICAgdGltZXIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7IG5pdm9SdW4oc2xpZGVyLCBraWRzLCBzZXR0aW5ncywgZmFsc2UpOyB9LCBzZXR0aW5ncy5wYXVzZVRpbWUpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgLy8gVHJpZ2dlciB0aGUgYWZ0ZXJDaGFuZ2UgY2FsbGJhY2sNCiAgICAgICAgICAgIHNldHRpbmdzLmFmdGVyQ2hhbmdlLmNhbGwodGhpcyk7DQogICAgICAgIH0pOw0KDQogICAgICAgIC8vIEFkZCBzbGljZXMgZm9yIHNsaWNlIGFuaW1hdGlvbnMNCiAgICAgICAgdmFyIGNyZWF0ZVNsaWNlcyA9IGZ1bmN0aW9uIChzbGlkZXIsIHNldHRpbmdzLCB2YXJzKSB7DQogICAgICAgICAgICBpZiAoJCh2YXJzLmN1cnJlbnRJbWFnZSkucGFyZW50KCkuaXMoJ2EnKSkgJCh2YXJzLmN1cnJlbnRJbWFnZSkucGFyZW50KCkuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7DQogICAgICAgICAgICAkKCdpbWdbc3JjPSInICsgdmFycy5jdXJyZW50SW1hZ2UuYXR0cignc3JjJykgKyAnIl0nLCBzbGlkZXIpLm5vdCgnLm5pdm8tbWFpbi1pbWFnZSwubml2by1jb250cm9sIGltZycpLndpZHRoKHNsaWRlci53aWR0aCgpKS5jc3MoJ3Zpc2liaWxpdHknLCAnaGlkZGVuJykuc2hvdygpOw0KICAgICAgICAgICAgdmFyIHNsaWNlSGVpZ2h0ID0gKCQoJ2ltZ1tzcmM9IicgKyB2YXJzLmN1cnJlbnRJbWFnZS5hdHRyKCdzcmMnKSArICciXScsIHNsaWRlcikubm90KCcubml2by1tYWluLWltYWdlLC5uaXZvLWNvbnRyb2wgaW1nJykucGFyZW50KCkuaXMoJ2EnKSkgPyAkKCdpbWdbc3JjPSInICsgdmFycy5jdXJyZW50SW1hZ2UuYXR0cignc3JjJykgKyAnIl0nLCBzbGlkZXIpLm5vdCgnLm5pdm8tbWFpbi1pbWFnZSwubml2by1jb250cm9sIGltZycpLnBhcmVudCgpLmhlaWdodCgpIDogJCgnaW1nW3NyYz0iJyArIHZhcnMuY3VycmVudEltYWdlLmF0dHIoJ3NyYycpICsgJyJdJywgc2xpZGVyKS5ub3QoJy5uaXZvLW1haW4taW1hZ2UsLm5pdm8tY29udHJvbCBpbWcnKS5oZWlnaHQoKTsNCg0KICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZXR0aW5ncy5zbGljZXM7IGkrKykgew0KICAgICAgICAgICAgICAgIHZhciBzbGljZVdpZHRoID0gTWF0aC5yb3VuZChzbGlkZXIud2lkdGgoKSAvIHNldHRpbmdzLnNsaWNlcyk7DQoNCiAgICAgICAgICAgICAgICBpZiAoaSA9PT0gc2V0dGluZ3Muc2xpY2VzIC0gMSkgew0KICAgICAgICAgICAgICAgICAgICBzbGlkZXIuYXBwZW5kKA0KICAgICAgICAgICAgICAgICAgICAgICAgJCgnPGRpdiBjbGFzcz0ibml2by1zbGljZSIgbmFtZT0iJyArIGkgKyAnIj48aW1nIHNyYz0iJyArIHZhcnMuY3VycmVudEltYWdlLmF0dHIoJ3NyYycpICsgJyIgc3R5bGU9InBvc2l0aW9uOmFic29sdXRlOyB3aWR0aDonICsgc2xpZGVyLndpZHRoKCkgKyAncHg7IGhlaWdodDphdXRvOyBkaXNwbGF5OmJsb2NrICFpbXBvcnRhbnQ7IHRvcDowOyBsZWZ0Oi0nICsgKChzbGljZVdpZHRoICsgKGkgKiBzbGljZVdpZHRoKSkgLSBzbGljZVdpZHRoKSArICdweDsiIC8+PC9kaXY+JykuY3NzKHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiAoc2xpY2VXaWR0aCAqIGkpICsgJ3B4JywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogKHNsaWRlci53aWR0aCgpIC0gKHNsaWNlV2lkdGggKiBpKSkgKyAncHgnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogc2xpY2VIZWlnaHQgKyAncHgnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6ICcwJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdmVyZmxvdzogJ2hpZGRlbicNCiAgICAgICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgICk7DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgc2xpZGVyLmFwcGVuZCgNCiAgICAgICAgICAgICAgICAgICAgICAgICQoJzxkaXYgY2xhc3M9Im5pdm8tc2xpY2UiIG5hbWU9IicgKyBpICsgJyI+PGltZyBzcmM9IicgKyB2YXJzLmN1cnJlbnRJbWFnZS5hdHRyKCdzcmMnKSArICciIHN0eWxlPSJwb3NpdGlvbjphYnNvbHV0ZTsgd2lkdGg6JyArIHNsaWRlci53aWR0aCgpICsgJ3B4OyBoZWlnaHQ6YXV0bzsgZGlzcGxheTpibG9jayAhaW1wb3J0YW50OyB0b3A6MDsgbGVmdDotJyArICgoc2xpY2VXaWR0aCArIChpICogc2xpY2VXaWR0aCkpIC0gc2xpY2VXaWR0aCkgKyAncHg7IiAvPjwvZGl2PicpLmNzcyh7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogKHNsaWNlV2lkdGggKiBpKSArICdweCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHNsaWNlV2lkdGggKyAncHgnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogc2xpY2VIZWlnaHQgKyAncHgnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6ICcwJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdmVyZmxvdzogJ2hpZGRlbicNCiAgICAgICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgICk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAkKCcubml2by1zbGljZScsIHNsaWRlcikuaGVpZ2h0KHNsaWNlSGVpZ2h0KTsNCiAgICAgICAgICAgIHNsaWRlckltZy5zdG9wKCkuYW5pbWF0ZSh7DQogICAgICAgICAgICAgICAgaGVpZ2h0OiAkKHZhcnMuY3VycmVudEltYWdlKS5oZWlnaHQoKQ0KICAgICAgICAgICAgfSwgc2V0dGluZ3MuYW5pbVNwZWVkKTsNCiAgICAgICAgfTsNCg0KICAgICAgICAvLyBBZGQgYm94ZXMgZm9yIGJveCBhbmltYXRpb25zDQogICAgICAgIHZhciBjcmVhdGVCb3hlcyA9IGZ1bmN0aW9uIChzbGlkZXIsIHNldHRpbmdzLCB2YXJzKSB7DQogICAgICAgICAgICBpZiAoJCh2YXJzLmN1cnJlbnRJbWFnZSkucGFyZW50KCkuaXMoJ2EnKSkgJCh2YXJzLmN1cnJlbnRJbWFnZSkucGFyZW50KCkuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7DQogICAgICAgICAgICAkKCdpbWdbc3JjPSInICsgdmFycy5jdXJyZW50SW1hZ2UuYXR0cignc3JjJykgKyAnIl0nLCBzbGlkZXIpLm5vdCgnLm5pdm8tbWFpbi1pbWFnZSwubml2by1jb250cm9sIGltZycpLndpZHRoKHNsaWRlci53aWR0aCgpKS5jc3MoJ3Zpc2liaWxpdHknLCAnaGlkZGVuJykuc2hvdygpOw0KICAgICAgICAgICAgdmFyIGJveFdpZHRoID0gTWF0aC5yb3VuZChzbGlkZXIud2lkdGgoKSAvIHNldHRpbmdzLmJveENvbHMpLA0KICAgICAgICAgICAgICAgIGJveEhlaWdodCA9IE1hdGgucm91bmQoJCgnaW1nW3NyYz0iJyArIHZhcnMuY3VycmVudEltYWdlLmF0dHIoJ3NyYycpICsgJyJdJywgc2xpZGVyKS5ub3QoJy5uaXZvLW1haW4taW1hZ2UsLm5pdm8tY29udHJvbCBpbWcnKS5oZWlnaHQoKSAvIHNldHRpbmdzLmJveFJvd3MpOw0KDQoNCiAgICAgICAgICAgIGZvciAodmFyIHJvd3MgPSAwOyByb3dzIDwgc2V0dGluZ3MuYm94Um93czsgcm93cysrKSB7DQogICAgICAgICAgICAgICAgZm9yICh2YXIgY29scyA9IDA7IGNvbHMgPCBzZXR0aW5ncy5ib3hDb2xzOyBjb2xzKyspIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbHMgPT09IHNldHRpbmdzLmJveENvbHMgLSAxKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBzbGlkZXIuYXBwZW5kKA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJzxkaXYgY2xhc3M9Im5pdm8tYm94IiBuYW1lPSInICsgY29scyArICciIHJlbD0iJyArIHJvd3MgKyAnIj48aW1nIHNyYz0iJyArIHZhcnMuY3VycmVudEltYWdlLmF0dHIoJ3NyYycpICsgJyIgc3R5bGU9InBvc2l0aW9uOmFic29sdXRlOyB3aWR0aDonICsgc2xpZGVyLndpZHRoKCkgKyAncHg7IGhlaWdodDphdXRvOyBkaXNwbGF5OmJsb2NrOyB0b3A6LScgKyAoYm94SGVpZ2h0ICogcm93cykgKyAncHg7IGxlZnQ6LScgKyAoYm94V2lkdGggKiBjb2xzKSArICdweDsiIC8+PC9kaXY+JykuY3NzKHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogKGJveFdpZHRoICogY29scykgKyAncHgnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6IChib3hIZWlnaHQgKiByb3dzKSArICdweCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAoc2xpZGVyLndpZHRoKCkgLSAoYm94V2lkdGggKiBjb2xzKSkgKyAncHgnDQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgICAgICAgKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5uaXZvLWJveFtuYW1lPSInICsgY29scyArICciXScsIHNsaWRlcikuaGVpZ2h0KCQoJy5uaXZvLWJveFtuYW1lPSInICsgY29scyArICciXSBpbWcnLCBzbGlkZXIpLmhlaWdodCgpICsgJ3B4Jyk7DQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICBzbGlkZXIuYXBwZW5kKA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJzxkaXYgY2xhc3M9Im5pdm8tYm94IiBuYW1lPSInICsgY29scyArICciIHJlbD0iJyArIHJvd3MgKyAnIj48aW1nIHNyYz0iJyArIHZhcnMuY3VycmVudEltYWdlLmF0dHIoJ3NyYycpICsgJyIgc3R5bGU9InBvc2l0aW9uOmFic29sdXRlOyB3aWR0aDonICsgc2xpZGVyLndpZHRoKCkgKyAncHg7IGhlaWdodDphdXRvOyBkaXNwbGF5OmJsb2NrOyB0b3A6LScgKyAoYm94SGVpZ2h0ICogcm93cykgKyAncHg7IGxlZnQ6LScgKyAoYm94V2lkdGggKiBjb2xzKSArICdweDsiIC8+PC9kaXY+JykuY3NzKHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogKGJveFdpZHRoICogY29scykgKyAncHgnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6IChib3hIZWlnaHQgKiByb3dzKSArICdweCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBib3hXaWR0aCArICdweCcNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgICAgICAgKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5uaXZvLWJveFtuYW1lPSInICsgY29scyArICciXScsIHNsaWRlcikuaGVpZ2h0KCQoJy5uaXZvLWJveFtuYW1lPSInICsgY29scyArICciXSBpbWcnLCBzbGlkZXIpLmhlaWdodCgpICsgJ3B4Jyk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIHNsaWRlckltZy5zdG9wKCkuYW5pbWF0ZSh7DQogICAgICAgICAgICAgICAgaGVpZ2h0OiAkKHZhcnMuY3VycmVudEltYWdlKS5oZWlnaHQoKQ0KICAgICAgICAgICAgfSwgc2V0dGluZ3MuYW5pbVNwZWVkKTsNCiAgICAgICAgfTsNCg0KICAgICAgICAvLyBQcml2YXRlIHJ1biBtZXRob2QNCiAgICAgICAgdmFyIG5pdm9SdW4gPSBmdW5jdGlvbiAoc2xpZGVyLCBraWRzLCBzZXR0aW5ncywgbnVkZ2UpIHsNCiAgICAgICAgICAgIC8vIEdldCBvdXIgdmFycw0KICAgICAgICAgICAgdmFyIHZhcnMgPSBzbGlkZXIuZGF0YSgnbml2bzp2YXJzJyk7DQoNCiAgICAgICAgICAgIC8vIFRyaWdnZXIgdGhlIGxhc3RTbGlkZSBjYWxsYmFjaw0KICAgICAgICAgICAgaWYgKHZhcnMgJiYgKHZhcnMuY3VycmVudFNsaWRlID09PSB2YXJzLnRvdGFsU2xpZGVzIC0gMSkpIHsNCiAgICAgICAgICAgICAgICBzZXR0aW5ncy5sYXN0U2xpZGUuY2FsbCh0aGlzKTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLy8gU3RvcA0KICAgICAgICAgICAgaWYgKCghdmFycyB8fCB2YXJzLnN0b3ApICYmICFudWRnZSkgeyByZXR1cm4gZmFsc2U7IH0NCg0KICAgICAgICAgICAgLy8gVHJpZ2dlciB0aGUgYmVmb3JlQ2hhbmdlIGNhbGxiYWNrDQogICAgICAgICAgICBzZXR0aW5ncy5iZWZvcmVDaGFuZ2UuY2FsbCh0aGlzKTsNCg0KICAgICAgICAgICAgLy8gU2V0IGN1cnJlbnQgYmFja2dyb3VuZCBiZWZvcmUgY2hhbmdlDQogICAgICAgICAgICBpZiAoIW51ZGdlKSB7DQogICAgICAgICAgICAgICAgc2xpZGVySW1nLmF0dHIoJ3NyYycsIHZhcnMuY3VycmVudEltYWdlLmF0dHIoJ3NyYycpKTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgaWYgKG51ZGdlID09PSAncHJldicpIHsNCiAgICAgICAgICAgICAgICAgICAgc2xpZGVySW1nLmF0dHIoJ3NyYycsIHZhcnMuY3VycmVudEltYWdlLmF0dHIoJ3NyYycpKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYgKG51ZGdlID09PSAnbmV4dCcpIHsNCiAgICAgICAgICAgICAgICAgICAgc2xpZGVySW1nLmF0dHIoJ3NyYycsIHZhcnMuY3VycmVudEltYWdlLmF0dHIoJ3NyYycpKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIHZhcnMuY3VycmVudFNsaWRlKys7DQogICAgICAgICAgICAvLyBUcmlnZ2VyIHRoZSBzbGlkZXNob3dFbmQgY2FsbGJhY2sNCiAgICAgICAgICAgIGlmICh2YXJzLmN1cnJlbnRTbGlkZSA9PT0gdmFycy50b3RhbFNsaWRlcykgew0KICAgICAgICAgICAgICAgIHZhcnMuY3VycmVudFNsaWRlID0gMDsNCiAgICAgICAgICAgICAgICBzZXR0aW5ncy5zbGlkZXNob3dFbmQuY2FsbCh0aGlzKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmICh2YXJzLmN1cnJlbnRTbGlkZSA8IDApIHsgdmFycy5jdXJyZW50U2xpZGUgPSAodmFycy50b3RhbFNsaWRlcyAtIDEpOyB9DQogICAgICAgICAgICAvLyBTZXQgdmFycy5jdXJyZW50SW1hZ2UNCiAgICAgICAgICAgIGlmICgkKGtpZHNbdmFycy5jdXJyZW50U2xpZGVdKS5pcygnaW1nJykpIHsNCiAgICAgICAgICAgICAgICB2YXJzLmN1cnJlbnRJbWFnZSA9ICQoa2lkc1t2YXJzLmN1cnJlbnRTbGlkZV0pOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICB2YXJzLmN1cnJlbnRJbWFnZSA9ICQoa2lkc1t2YXJzLmN1cnJlbnRTbGlkZV0pLmZpbmQoJ2ltZzpmaXJzdCcpOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAvLyBTZXQgYWN0aXZlIGxpbmtzDQogICAgICAgICAgICBpZiAoc2V0dGluZ3MuY29udHJvbE5hdikgew0KICAgICAgICAgICAgICAgICQoJ2EnLCB2YXJzLmNvbnRyb2xOYXZFbCkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpOw0KICAgICAgICAgICAgICAgICQoJ2E6ZXEoJyArIHZhcnMuY3VycmVudFNsaWRlICsgJyknLCB2YXJzLmNvbnRyb2xOYXZFbCkuYWRkQ2xhc3MoJ2FjdGl2ZScpOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAvLyBQcm9jZXNzIGNhcHRpb24NCiAgICAgICAgICAgIHByb2Nlc3NDYXB0aW9uKHNldHRpbmdzKTsNCg0KICAgICAgICAgICAgLy8gUmVtb3ZlIGFueSBzbGljZXMgZnJvbSBsYXN0IHRyYW5zaXRpb24NCiAgICAgICAgICAgICQoJy5uaXZvLXNsaWNlJywgc2xpZGVyKS5yZW1vdmUoKTsNCg0KICAgICAgICAgICAgLy8gUmVtb3ZlIGFueSBib3hlcyBmcm9tIGxhc3QgdHJhbnNpdGlvbg0KICAgICAgICAgICAgJCgnLm5pdm8tYm94Jywgc2xpZGVyKS5yZW1vdmUoKTsNCg0KICAgICAgICAgICAgdmFyIGN1cnJlbnRFZmZlY3QgPSBzZXR0aW5ncy5lZmZlY3QsDQogICAgICAgICAgICAgICAgYW5pbXMgPSAnJzsNCg0KICAgICAgICAgICAgLy8gR2VuZXJhdGUgcmFuZG9tIGVmZmVjdA0KICAgICAgICAgICAgaWYgKHNldHRpbmdzLmVmZmVjdCA9PT0gJ3JhbmRvbScpIHsNCiAgICAgICAgICAgICAgICBhbmltcyA9IG5ldyBBcnJheSgnc2xpY2VEb3duUmlnaHQnLCAnc2xpY2VEb3duTGVmdCcsICdzbGljZVVwUmlnaHQnLCAnc2xpY2VVcExlZnQnLCAnc2xpY2VVcERvd24nLCAnc2xpY2VVcERvd25MZWZ0JywgJ2ZvbGQnLCAnZmFkZScsDQogICAgICAgICAgICAgICAgJ2JveFJhbmRvbScsICdib3hSYWluJywgJ2JveFJhaW5SZXZlcnNlJywgJ2JveFJhaW5Hcm93JywgJ2JveFJhaW5Hcm93UmV2ZXJzZScpOw0KICAgICAgICAgICAgICAgIGN1cnJlbnRFZmZlY3QgPSBhbmltc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoYW5pbXMubGVuZ3RoICsgMSkpXTsNCiAgICAgICAgICAgICAgICBpZiAoY3VycmVudEVmZmVjdCA9PT0gdW5kZWZpbmVkKSB7IGN1cnJlbnRFZmZlY3QgPSAnZmFkZSc7IH0NCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLy8gUnVuIHJhbmRvbSBlZmZlY3QgZnJvbSBzcGVjaWZpZWQgc2V0IChlZzogZWZmZWN0Oidmb2xkLGZhZGUnKQ0KICAgICAgICAgICAgaWYgKHNldHRpbmdzLmVmZmVjdC5pbmRleE9mKCcsJykgIT09IC0xKSB7DQogICAgICAgICAgICAgICAgYW5pbXMgPSBzZXR0aW5ncy5lZmZlY3Quc3BsaXQoJywnKTsNCiAgICAgICAgICAgICAgICBjdXJyZW50RWZmZWN0ID0gYW5pbXNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKGFuaW1zLmxlbmd0aCkpXTsNCiAgICAgICAgICAgICAgICBpZiAoY3VycmVudEVmZmVjdCA9PT0gdW5kZWZpbmVkKSB7IGN1cnJlbnRFZmZlY3QgPSAnZmFkZSc7IH0NCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLy8gQ3VzdG9tIHRyYW5zaXRpb24gYXMgZGVmaW5lZCBieSAiZGF0YS10cmFuc2l0aW9uIiBhdHRyaWJ1dGUNCiAgICAgICAgICAgIGlmICh2YXJzLmN1cnJlbnRJbWFnZS5hdHRyKCdkYXRhLXRyYW5zaXRpb24nKSkgew0KICAgICAgICAgICAgICAgIGN1cnJlbnRFZmZlY3QgPSB2YXJzLmN1cnJlbnRJbWFnZS5hdHRyKCdkYXRhLXRyYW5zaXRpb24nKTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLy8gUnVuIGVmZmVjdHMNCiAgICAgICAgICAgIHZhcnMucnVubmluZyA9IHRydWU7DQogICAgICAgICAgICB2YXIgdGltZUJ1ZmYgPSAwLA0KICAgICAgICAgICAgICAgIGkgPSAwLA0KICAgICAgICAgICAgICAgIHNsaWNlcyA9ICcnLA0KICAgICAgICAgICAgICAgIGZpcnN0U2xpY2UgPSAnJywNCiAgICAgICAgICAgICAgICB0b3RhbEJveGVzID0gJycsDQogICAgICAgICAgICAgICAgYm94ZXMgPSAnJzsNCg0KICAgICAgICAgICAgaWYgKGN1cnJlbnRFZmZlY3QgPT09ICdzbGljZURvd24nIHx8IGN1cnJlbnRFZmZlY3QgPT09ICdzbGljZURvd25SaWdodCcgfHwgY3VycmVudEVmZmVjdCA9PT0gJ3NsaWNlRG93bkxlZnQnKSB7DQogICAgICAgICAgICAgICAgY3JlYXRlU2xpY2VzKHNsaWRlciwgc2V0dGluZ3MsIHZhcnMpOw0KICAgICAgICAgICAgICAgIHRpbWVCdWZmID0gMDsNCiAgICAgICAgICAgICAgICBpID0gMDsNCiAgICAgICAgICAgICAgICBzbGljZXMgPSAkKCcubml2by1zbGljZScsIHNsaWRlcik7DQogICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRFZmZlY3QgPT09ICdzbGljZURvd25MZWZ0JykgeyBzbGljZXMgPSAkKCcubml2by1zbGljZScsIHNsaWRlcikuX3JldmVyc2UoKTsgfQ0KDQogICAgICAgICAgICAgICAgc2xpY2VzLmVhY2goZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgICAgICB2YXIgc2xpY2UgPSAkKHRoaXMpOw0KICAgICAgICAgICAgICAgICAgICBzbGljZS5jc3MoeyAndG9wJzogJzBweCcgfSk7DQogICAgICAgICAgICAgICAgICAgIGlmIChpID09PSBzZXR0aW5ncy5zbGljZXMgLSAxKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbGljZS5hbmltYXRlKHsgb3BhY2l0eTogJzEuMCcgfSwgc2V0dGluZ3MuYW5pbVNwZWVkLCAnJywgZnVuY3Rpb24gKCkgeyBzbGlkZXIudHJpZ2dlcignbml2bzphbmltRmluaXNoZWQnKTsgfSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9LCAoMTAwICsgdGltZUJ1ZmYpKTsNCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNsaWNlLmFuaW1hdGUoeyBvcGFjaXR5OiAnMS4wJyB9LCBzZXR0aW5ncy5hbmltU3BlZWQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfSwgKDEwMCArIHRpbWVCdWZmKSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgdGltZUJ1ZmYgKz0gNTA7DQogICAgICAgICAgICAgICAgICAgIGkrKzsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0gZWxzZSBpZiAoY3VycmVudEVmZmVjdCA9PT0gJ3NsaWNlVXAnIHx8IGN1cnJlbnRFZmZlY3QgPT09ICdzbGljZVVwUmlnaHQnIHx8IGN1cnJlbnRFZmZlY3QgPT09ICdzbGljZVVwTGVmdCcpIHsNCiAgICAgICAgICAgICAgICBjcmVhdGVTbGljZXMoc2xpZGVyLCBzZXR0aW5ncywgdmFycyk7DQogICAgICAgICAgICAgICAgdGltZUJ1ZmYgPSAwOw0KICAgICAgICAgICAgICAgIGkgPSAwOw0KICAgICAgICAgICAgICAgIHNsaWNlcyA9ICQoJy5uaXZvLXNsaWNlJywgc2xpZGVyKTsNCiAgICAgICAgICAgICAgICBpZiAoY3VycmVudEVmZmVjdCA9PT0gJ3NsaWNlVXBMZWZ0JykgeyBzbGljZXMgPSAkKCcubml2by1zbGljZScsIHNsaWRlcikuX3JldmVyc2UoKTsgfQ0KDQogICAgICAgICAgICAgICAgc2xpY2VzLmVhY2goZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgICAgICB2YXIgc2xpY2UgPSAkKHRoaXMpOw0KICAgICAgICAgICAgICAgICAgICBzbGljZS5jc3MoeyAnYm90dG9tJzogJzBweCcgfSk7DQogICAgICAgICAgICAgICAgICAgIGlmIChpID09PSBzZXR0aW5ncy5zbGljZXMgLSAxKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbGljZS5hbmltYXRlKHsgb3BhY2l0eTogJzEuMCcgfSwgc2V0dGluZ3MuYW5pbVNwZWVkLCAnJywgZnVuY3Rpb24gKCkgeyBzbGlkZXIudHJpZ2dlcignbml2bzphbmltRmluaXNoZWQnKTsgfSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9LCAoMTAwICsgdGltZUJ1ZmYpKTsNCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNsaWNlLmFuaW1hdGUoeyBvcGFjaXR5OiAnMS4wJyB9LCBzZXR0aW5ncy5hbmltU3BlZWQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfSwgKDEwMCArIHRpbWVCdWZmKSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgdGltZUJ1ZmYgKz0gNTA7DQogICAgICAgICAgICAgICAgICAgIGkrKzsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0gZWxzZSBpZiAoY3VycmVudEVmZmVjdCA9PT0gJ3NsaWNlVXBEb3duJyB8fCBjdXJyZW50RWZmZWN0ID09PSAnc2xpY2VVcERvd25SaWdodCcgfHwgY3VycmVudEVmZmVjdCA9PT0gJ3NsaWNlVXBEb3duTGVmdCcpIHsNCiAgICAgICAgICAgICAgICBjcmVhdGVTbGljZXMoc2xpZGVyLCBzZXR0aW5ncywgdmFycyk7DQogICAgICAgICAgICAgICAgdGltZUJ1ZmYgPSAwOw0KICAgICAgICAgICAgICAgIGkgPSAwOw0KICAgICAgICAgICAgICAgIHZhciB2ID0gMDsNCiAgICAgICAgICAgICAgICBzbGljZXMgPSAkKCcubml2by1zbGljZScsIHNsaWRlcik7DQogICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRFZmZlY3QgPT09ICdzbGljZVVwRG93bkxlZnQnKSB7IHNsaWNlcyA9ICQoJy5uaXZvLXNsaWNlJywgc2xpZGVyKS5fcmV2ZXJzZSgpOyB9DQoNCiAgICAgICAgICAgICAgICBzbGljZXMuZWFjaChmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgICAgIHZhciBzbGljZSA9ICQodGhpcyk7DQogICAgICAgICAgICAgICAgICAgIGlmIChpID09PSAwKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBzbGljZS5jc3MoJ3RvcCcsICcwcHgnKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGkrKzsNCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHNsaWNlLmNzcygnYm90dG9tJywgJzBweCcpOw0KICAgICAgICAgICAgICAgICAgICAgICAgaSA9IDA7DQogICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICBpZiAodiA9PT0gc2V0dGluZ3Muc2xpY2VzIC0gMSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2xpY2UuYW5pbWF0ZSh7IG9wYWNpdHk6ICcxLjAnIH0sIHNldHRpbmdzLmFuaW1TcGVlZCwgJycsIGZ1bmN0aW9uICgpIHsgc2xpZGVyLnRyaWdnZXIoJ25pdm86YW5pbUZpbmlzaGVkJyk7IH0pOw0KICAgICAgICAgICAgICAgICAgICAgICAgfSwgKDEwMCArIHRpbWVCdWZmKSk7DQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbGljZS5hbmltYXRlKHsgb3BhY2l0eTogJzEuMCcgfSwgc2V0dGluZ3MuYW5pbVNwZWVkKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0sICgxMDAgKyB0aW1lQnVmZikpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIHRpbWVCdWZmICs9IDUwOw0KICAgICAgICAgICAgICAgICAgICB2Kys7DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnRFZmZlY3QgPT09ICdmb2xkJykgew0KICAgICAgICAgICAgICAgIGNyZWF0ZVNsaWNlcyhzbGlkZXIsIHNldHRpbmdzLCB2YXJzKTsNCiAgICAgICAgICAgICAgICB0aW1lQnVmZiA9IDA7DQogICAgICAgICAgICAgICAgaSA9IDA7DQoNCiAgICAgICAgICAgICAgICAkKCcubml2by1zbGljZScsIHNsaWRlcikuZWFjaChmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgICAgIHZhciBzbGljZSA9ICQodGhpcyk7DQogICAgICAgICAgICAgICAgICAgIHZhciBvcmlnV2lkdGggPSBzbGljZS53aWR0aCgpOw0KICAgICAgICAgICAgICAgICAgICBzbGljZS5jc3MoeyB0b3A6ICcwcHgnLCB3aWR0aDogJzBweCcgfSk7DQogICAgICAgICAgICAgICAgICAgIGlmIChpID09PSBzZXR0aW5ncy5zbGljZXMgLSAxKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbGljZS5hbmltYXRlKHsgd2lkdGg6IG9yaWdXaWR0aCwgb3BhY2l0eTogJzEuMCcgfSwgc2V0dGluZ3MuYW5pbVNwZWVkLCAnJywgZnVuY3Rpb24gKCkgeyBzbGlkZXIudHJpZ2dlcignbml2bzphbmltRmluaXNoZWQnKTsgfSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9LCAoMTAwICsgdGltZUJ1ZmYpKTsNCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNsaWNlLmFuaW1hdGUoeyB3aWR0aDogb3JpZ1dpZHRoLCBvcGFjaXR5OiAnMS4wJyB9LCBzZXR0aW5ncy5hbmltU3BlZWQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfSwgKDEwMCArIHRpbWVCdWZmKSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgdGltZUJ1ZmYgKz0gNTA7DQogICAgICAgICAgICAgICAgICAgIGkrKzsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0gZWxzZSBpZiAoY3VycmVudEVmZmVjdCA9PT0gJ2ZhZGUnKSB7DQogICAgICAgICAgICAgICAgY3JlYXRlU2xpY2VzKHNsaWRlciwgc2V0dGluZ3MsIHZhcnMpOw0KDQogICAgICAgICAgICAgICAgZmlyc3RTbGljZSA9ICQoJy5uaXZvLXNsaWNlOmZpcnN0Jywgc2xpZGVyKTsNCiAgICAgICAgICAgICAgICBmaXJzdFNsaWNlLmNzcyh7DQogICAgICAgICAgICAgICAgICAgICd3aWR0aCc6IHNsaWRlci53aWR0aCgpICsgJ3B4Jw0KICAgICAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICAgICAgZmlyc3RTbGljZS5hbmltYXRlKHsgb3BhY2l0eTogJzEuMCcgfSwgKHNldHRpbmdzLmFuaW1TcGVlZCAqIDIpLCAnJywgZnVuY3Rpb24gKCkgeyBzbGlkZXIudHJpZ2dlcignbml2bzphbmltRmluaXNoZWQnKTsgfSk7DQogICAgICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnRFZmZlY3QgPT09ICdzbGlkZUluUmlnaHQnKSB7DQogICAgICAgICAgICAgICAgY3JlYXRlU2xpY2VzKHNsaWRlciwgc2V0dGluZ3MsIHZhcnMpOw0KDQogICAgICAgICAgICAgICAgZmlyc3RTbGljZSA9ICQoJy5uaXZvLXNsaWNlOmZpcnN0Jywgc2xpZGVyKTsNCiAgICAgICAgICAgICAgICBmaXJzdFNsaWNlLmNzcyh7DQogICAgICAgICAgICAgICAgICAgICd3aWR0aCc6ICcwcHgnLA0KICAgICAgICAgICAgICAgICAgICAnb3BhY2l0eSc6ICcxJw0KICAgICAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICAgICAgZmlyc3RTbGljZS5hbmltYXRlKHsgd2lkdGg6IHNsaWRlci53aWR0aCgpICsgJ3B4JyB9LCAoc2V0dGluZ3MuYW5pbVNwZWVkICogMiksICcnLCBmdW5jdGlvbiAoKSB7IHNsaWRlci50cmlnZ2VyKCduaXZvOmFuaW1GaW5pc2hlZCcpOyB9KTsNCiAgICAgICAgICAgIH0gZWxzZSBpZiAoY3VycmVudEVmZmVjdCA9PT0gJ3NsaWRlSW5MZWZ0Jykgew0KICAgICAgICAgICAgICAgIGNyZWF0ZVNsaWNlcyhzbGlkZXIsIHNldHRpbmdzLCB2YXJzKTsNCg0KICAgICAgICAgICAgICAgIGZpcnN0U2xpY2UgPSAkKCcubml2by1zbGljZTpmaXJzdCcsIHNsaWRlcik7DQogICAgICAgICAgICAgICAgZmlyc3RTbGljZS5jc3Moew0KICAgICAgICAgICAgICAgICAgICAnd2lkdGgnOiAnMHB4JywNCiAgICAgICAgICAgICAgICAgICAgJ29wYWNpdHknOiAnMScsDQogICAgICAgICAgICAgICAgICAgICdsZWZ0JzogJycsDQogICAgICAgICAgICAgICAgICAgICdyaWdodCc6ICcwcHgnDQogICAgICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgICAgICBmaXJzdFNsaWNlLmFuaW1hdGUoeyB3aWR0aDogc2xpZGVyLndpZHRoKCkgKyAncHgnIH0sIChzZXR0aW5ncy5hbmltU3BlZWQgKiAyKSwgJycsIGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAgICAgLy8gUmVzZXQgcG9zaXRpb25pbmcNCiAgICAgICAgICAgICAgICAgICAgZmlyc3RTbGljZS5jc3Moew0KICAgICAgICAgICAgICAgICAgICAgICAgJ2xlZnQnOiAnMHB4JywNCiAgICAgICAgICAgICAgICAgICAgICAgICdyaWdodCc6ICcnDQogICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgICAgICBzbGlkZXIudHJpZ2dlcignbml2bzphbmltRmluaXNoZWQnKTsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0gZWxzZSBpZiAoY3VycmVudEVmZmVjdCA9PT0gJ2JveFJhbmRvbScpIHsNCiAgICAgICAgICAgICAgICBjcmVhdGVCb3hlcyhzbGlkZXIsIHNldHRpbmdzLCB2YXJzKTsNCg0KICAgICAgICAgICAgICAgIHRvdGFsQm94ZXMgPSBzZXR0aW5ncy5ib3hDb2xzICogc2V0dGluZ3MuYm94Um93czsNCiAgICAgICAgICAgICAgICBpID0gMDsNCiAgICAgICAgICAgICAgICB0aW1lQnVmZiA9IDA7DQoNCiAgICAgICAgICAgICAgICBib3hlcyA9IHNodWZmbGUoJCgnLm5pdm8tYm94Jywgc2xpZGVyKSk7DQogICAgICAgICAgICAgICAgYm94ZXMuZWFjaChmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgICAgIHZhciBib3ggPSAkKHRoaXMpOw0KICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PT0gdG90YWxCb3hlcyAtIDEpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJveC5hbmltYXRlKHsgb3BhY2l0eTogJzEnIH0sIHNldHRpbmdzLmFuaW1TcGVlZCwgJycsIGZ1bmN0aW9uICgpIHsgc2xpZGVyLnRyaWdnZXIoJ25pdm86YW5pbUZpbmlzaGVkJyk7IH0pOw0KICAgICAgICAgICAgICAgICAgICAgICAgfSwgKDEwMCArIHRpbWVCdWZmKSk7DQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3guYW5pbWF0ZSh7IG9wYWNpdHk6ICcxJyB9LCBzZXR0aW5ncy5hbmltU3BlZWQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfSwgKDEwMCArIHRpbWVCdWZmKSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgdGltZUJ1ZmYgKz0gMjA7DQogICAgICAgICAgICAgICAgICAgIGkrKzsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0gZWxzZSBpZiAoY3VycmVudEVmZmVjdCA9PT0gJ2JveFJhaW4nIHx8IGN1cnJlbnRFZmZlY3QgPT09ICdib3hSYWluUmV2ZXJzZScgfHwgY3VycmVudEVmZmVjdCA9PT0gJ2JveFJhaW5Hcm93JyB8fCBjdXJyZW50RWZmZWN0ID09PSAnYm94UmFpbkdyb3dSZXZlcnNlJykgew0KICAgICAgICAgICAgICAgIGNyZWF0ZUJveGVzKHNsaWRlciwgc2V0dGluZ3MsIHZhcnMpOw0KDQogICAgICAgICAgICAgICAgdG90YWxCb3hlcyA9IHNldHRpbmdzLmJveENvbHMgKiBzZXR0aW5ncy5ib3hSb3dzOw0KICAgICAgICAgICAgICAgIGkgPSAwOw0KICAgICAgICAgICAgICAgIHRpbWVCdWZmID0gMDsNCg0KICAgICAgICAgICAgICAgIC8vIFNwbGl0IGJveGVzIGludG8gMkQgYXJyYXkNCiAgICAgICAgICAgICAgICB2YXIgcm93SW5kZXggPSAwOw0KICAgICAgICAgICAgICAgIHZhciBjb2xJbmRleCA9IDA7DQogICAgICAgICAgICAgICAgdmFyIGJveDJEYXJyID0gW107DQogICAgICAgICAgICAgICAgYm94MkRhcnJbcm93SW5kZXhdID0gW107DQogICAgICAgICAgICAgICAgYm94ZXMgPSAkKCcubml2by1ib3gnLCBzbGlkZXIpOw0KICAgICAgICAgICAgICAgIGlmIChjdXJyZW50RWZmZWN0ID09PSAnYm94UmFpblJldmVyc2UnIHx8IGN1cnJlbnRFZmZlY3QgPT09ICdib3hSYWluR3Jvd1JldmVyc2UnKSB7DQogICAgICAgICAgICAgICAgICAgIGJveGVzID0gJCgnLm5pdm8tYm94Jywgc2xpZGVyKS5fcmV2ZXJzZSgpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBib3hlcy5lYWNoKGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAgICAgYm94MkRhcnJbcm93SW5kZXhdW2NvbEluZGV4XSA9ICQodGhpcyk7DQogICAgICAgICAgICAgICAgICAgIGNvbEluZGV4Kys7DQogICAgICAgICAgICAgICAgICAgIGlmIChjb2xJbmRleCA9PT0gc2V0dGluZ3MuYm94Q29scykgew0KICAgICAgICAgICAgICAgICAgICAgICAgcm93SW5kZXgrKzsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbEluZGV4ID0gMDsNCiAgICAgICAgICAgICAgICAgICAgICAgIGJveDJEYXJyW3Jvd0luZGV4XSA9IFtdOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgICAgICAvLyBSdW4gYW5pbWF0aW9uDQogICAgICAgICAgICAgICAgZm9yICh2YXIgY29scyA9IDA7IGNvbHMgPCAoc2V0dGluZ3MuYm94Q29scyAqIDIpIDsgY29scysrKSB7DQogICAgICAgICAgICAgICAgICAgIHZhciBwcmV2Q29sID0gY29sczsNCiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcm93cyA9IDA7IHJvd3MgPCBzZXR0aW5ncy5ib3hSb3dzOyByb3dzKyspIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmV2Q29sID49IDAgJiYgcHJldkNvbCA8IHNldHRpbmdzLmJveENvbHMpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBEdWUgdG8gc29tZSB3ZWlyZCBKUyBidWcgd2l0aCBsb29wIHZhcnMgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYmVpbmcgdXNlZCBpbiBzZXRUaW1lb3V0LCB0aGlzIGlzIHdyYXBwZWQNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aXRoIGFuIGFub255bW91cyBmdW5jdGlvbiBjYWxsICovDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgKGZ1bmN0aW9uIChyb3csIGNvbCwgdGltZSwgaSwgdG90YWxCb3hlcykgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYm94ID0gJChib3gyRGFycltyb3ddW2NvbF0pOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdyA9IGJveC53aWR0aCgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaCA9IGJveC5oZWlnaHQoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRFZmZlY3QgPT09ICdib3hSYWluR3JvdycgfHwgY3VycmVudEVmZmVjdCA9PT0gJ2JveFJhaW5Hcm93UmV2ZXJzZScpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJveC53aWR0aCgwKS5oZWlnaHQoMCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgPT09IHRvdGFsQm94ZXMgLSAxKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3guYW5pbWF0ZSh7IG9wYWNpdHk6ICcxJywgd2lkdGg6IHcsIGhlaWdodDogaCB9LCBzZXR0aW5ncy5hbmltU3BlZWQgLyAxLjMsICcnLCBmdW5jdGlvbiAoKSB7IHNsaWRlci50cmlnZ2VyKCduaXZvOmFuaW1GaW5pc2hlZCcpOyB9KTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sICgxMDAgKyB0aW1lKSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3guYW5pbWF0ZSh7IG9wYWNpdHk6ICcxJywgd2lkdGg6IHcsIGhlaWdodDogaCB9LCBzZXR0aW5ncy5hbmltU3BlZWQgLyAxLjMpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgKDEwMCArIHRpbWUpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKHJvd3MsIHByZXZDb2wsIHRpbWVCdWZmLCBpLCB0b3RhbEJveGVzKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpKys7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBwcmV2Q29sLS07DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgdGltZUJ1ZmYgKz0gMTAwOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfTsNCg0KICAgICAgICAvLyBTaHVmZmxlIGFuIGFycmF5DQogICAgICAgIHZhciBzaHVmZmxlID0gZnVuY3Rpb24gKGFycikgew0KICAgICAgICAgICAgZm9yICh2YXIgaiwgeCwgaSA9IGFyci5sZW5ndGg7IGk7IGogPSBwYXJzZUludChNYXRoLnJhbmRvbSgpICogaSwgMTApLCB4ID0gYXJyWy0taV0sIGFycltpXSA9IGFycltqXSwgYXJyW2pdID0geCk7DQogICAgICAgICAgICByZXR1cm4gYXJyOw0KICAgICAgICB9Ow0KDQogICAgICAgIC8vIEZvciBkZWJ1Z2dpbmcNCiAgICAgICAgdmFyIHRyYWNlID0gZnVuY3Rpb24gKG1zZykgew0KICAgICAgICAgICAgaWYgKHRoaXMuY29uc29sZSAmJiB0eXBlb2YgY29uc29sZS5sb2cgIT09ICd1bmRlZmluZWQnKSB7IGNvbnNvbGUubG9nKG1zZyk7IH0NCiAgICAgICAgfTsNCg0KICAgICAgICAvLyBTdGFydCAvIFN0b3ANCiAgICAgICAgdGhpcy5zdG9wID0gZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgaWYgKCEkKGVsZW1lbnQpLmRhdGEoJ25pdm86dmFycycpLnN0b3ApIHsNCiAgICAgICAgICAgICAgICAkKGVsZW1lbnQpLmRhdGEoJ25pdm86dmFycycpLnN0b3AgPSB0cnVlOw0KICAgICAgICAgICAgICAgIHRyYWNlKCdTdG9wIFNsaWRlcicpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9Ow0KDQogICAgICAgIHRoaXMuc3RhcnQgPSBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICBpZiAoJChlbGVtZW50KS5kYXRhKCduaXZvOnZhcnMnKS5zdG9wKSB7DQogICAgICAgICAgICAgICAgJChlbGVtZW50KS5kYXRhKCduaXZvOnZhcnMnKS5zdG9wID0gZmFsc2U7DQogICAgICAgICAgICAgICAgdHJhY2UoJ1N0YXJ0IFNsaWRlcicpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9Ow0KDQogICAgICAgIC8vIFRyaWdnZXIgdGhlIGFmdGVyTG9hZCBjYWxsYmFjaw0KICAgICAgICBzZXR0aW5ncy5hZnRlckxvYWQuY2FsbCh0aGlzKTsNCg0KICAgICAgICByZXR1cm4gdGhpczsNCiAgICB9Ow0KDQogICAgJC5mbi5uaXZvU2xpZGVyID0gZnVuY3Rpb24gKG9wdGlvbnMpIHsNCiAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoa2V5LCB2YWx1ZSkgew0KICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSAkKHRoaXMpOw0KICAgICAgICAgICAgLy8gUmV0dXJuIGVhcmx5IGlmIHRoaXMgZWxlbWVudCBhbHJlYWR5IGhhcyBhIHBsdWdpbiBpbnN0YW5jZQ0KICAgICAgICAgICAgaWYgKGVsZW1lbnQuZGF0YSgnbml2b3NsaWRlcicpKSB7IHJldHVybiBlbGVtZW50LmRhdGEoJ25pdm9zbGlkZXInKTsgfQ0KICAgICAgICAgICAgLy8gUGFzcyBvcHRpb25zIHRvIHBsdWdpbiBjb25zdHJ1Y3Rvcg0KICAgICAgICAgICAgdmFyIG5pdm9zbGlkZXIgPSBuZXcgTml2b1NsaWRlcih0aGlzLCBvcHRpb25zKTsNCiAgICAgICAgICAgIC8vIFN0b3JlIHBsdWdpbiBvYmplY3QgaW4gdGhpcyBlbGVtZW50J3MgZGF0YQ0KICAgICAgICAgICAgZWxlbWVudC5kYXRhKCduaXZvc2xpZGVyJywgbml2b3NsaWRlcik7DQogICAgICAgIH0pOw0KICAgIH07DQoNCiAgICAvL0RlZmF1bHQgc2V0dGluZ3MNCiAgICAkLmZuLm5pdm9TbGlkZXIuZGVmYXVsdHMgPSB7DQogICAgICAgIGVmZmVjdDogJ3JhbmRvbScsDQogICAgICAgIHNsaWNlczogMTUsDQogICAgICAgIGJveENvbHM6IDgsDQogICAgICAgIGJveFJvd3M6IDQsDQogICAgICAgIGFuaW1TcGVlZDogNTAwLA0KICAgICAgICBwYXVzZVRpbWU6IDMwMDAsDQogICAgICAgIHN0YXJ0U2xpZGU6IDAsDQogICAgICAgIGRpcmVjdGlvbk5hdjogdHJ1ZSwNCiAgICAgICAgY29udHJvbE5hdjogdHJ1ZSwNCiAgICAgICAgY29udHJvbE5hdlRodW1iczogZmFsc2UsDQogICAgICAgIHBhdXNlT25Ib3ZlcjogdHJ1ZSwNCiAgICAgICAgbWFudWFsQWR2YW5jZTogZmFsc2UsDQogICAgICAgIHByZXZUZXh0OiAnUHJldicsDQogICAgICAgIG5leHRUZXh0OiAnTmV4dCcsDQogICAgICAgIHJhbmRvbVN0YXJ0OiBmYWxzZSwNCiAgICAgICAgYmVmb3JlQ2hhbmdlOiBmdW5jdGlvbiAoKSB7IH0sDQogICAgICAgIGFmdGVyQ2hhbmdlOiBmdW5jdGlvbiAoKSB7IH0sDQogICAgICAgIHNsaWRlc2hvd0VuZDogZnVuY3Rpb24gKCkgeyB9LA0KICAgICAgICBsYXN0U2xpZGU6IGZ1bmN0aW9uICgpIHsgfSwNCiAgICAgICAgYWZ0ZXJMb2FkOiBmdW5jdGlvbiAoKSB7IH0NCiAgICB9Ow0KDQogICAgJC5mbi5fcmV2ZXJzZSA9IFtdLnJldmVyc2U7DQoNCn0pKGpRdWVyeSk7</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPBody>
      <TcpPackets>
        <PacketInfo time="228893546" offset="0" length="3890" />
        <PacketInfo time="228893562" offset="3890" length="1235" />
      </TcpPackets>
    </HTTPResponse>
  </HTTPTask>
</HTTPSnapshot>